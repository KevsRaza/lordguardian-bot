{% extends "base.html" %}

{% block title %}Dashboard - GuildGreeter Pro{% endblock %}

{% block extra_css %}
<style>
    .dashboard-header {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
    }
    
    .guild-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
    }
    
    .guild-card {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        text-decoration: none;
        color: inherit;
        display: block;
    }
    
    .guild-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    
    .guild-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin-bottom: 1rem;
    }
    
    .guild-name {
        font-size: 1.25rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    
    .guild-members {
        color: #666;
        font-size: 0.9rem;
    }
    
    .no-guilds {
        text-align: center;
        padding: 3rem;
        background: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .no-guilds h2 {
        margin-bottom: 1rem;
        color: #667eea;
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1>Welcome, {{ user.username }}! ðŸ‘‹</h1>
    <p>Manage your servers below</p>
</div>

{% if guilds %}
<div class="guild-grid">
    {% for guild in guilds %}
    <a href="/guild/{{ guild.id }}" class="guild-card">
        {% if guild.icon %}
        <img src="https://cdn.discordapp.com/icons/{{ guild.id }}/{{ guild.icon }}.png" 
             alt="{{ guild.name }}" class="guild-icon">
        {% else %}
        <div class="guild-icon" style="background: #667eea; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
            {{ guild.name[0] }}
        </div>
        {% endif %}
        <div class="guild-name">{{ guild.name }}</div>
        <div class="guild-members">Click to manage</div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="no-guilds">
    <h2>No Servers Found</h2>
    <p>You don't have any servers where you can manage GuildGreeter Pro.</p>
    <p>Make sure you have "Manage Server" permission and the bot is added to your server.</p>
    <a href="/invite" class="btn btn-primary" style="margin-top: 1rem;">Invite Bot</a>
</div>
{% endif %}
{% endblock %}